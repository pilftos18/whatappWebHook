
@extends('layout')

@section('content')
<style>
    .value-non-assignchat{
        padding: 12px;
    }
</style>
@if(!session()->has('data'))
{{-- <h1>Dashboard</h1> --}}
    @php
        return redirect()->route('login'); // Redirect to the login route or URL
        // OR: return redirect('/login'); // Redirect to a specific URL
    @endphp
@endif

@if(session('data.userRole') == 'user')
  <style>
    #main {
      margin-left: 0px;
    }

    .sb-super-admin {
      top: 0px;
    }
  </style>
@endif


<div id="main" class="main">
    <div class="row">
        <div class="col-lg-12 margin-tb">
            <div class="pagetitle">
                <h1>Dashboard</h1>

            </div>
        </div>
    </div>

    @if(session('data.userRole') == 'user' )

    


    <input type='hidden' value="{{session('data.userID')}}" id="userid">
    <input type='hidden' value="{{session('data.Client_id')}}" id="clientid">

        <div class="row">
            <div class="col-md-6 d-flex">
                <div class="row g-3">
                    <div class="dashboard-box">
                        <div class="col-md-12">
                            <h4 class="mt-4 text-center mb-4">Chat Status</h4>
                            <div class="row g-3">
                                <div class="col-md-12 d-flex">
                                    <div class="agents-box ">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class=" d-flex justify-content-between align-items-start">
                                                    <div class="content-box-of-agent">
                                                        <h2 class="mb-0 "><span id="allChatCount">00</span></h2>
                                                        <p>Total Chats</p>   
                                                    </div>
                                                    <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon">
                                                </div>
                                            </div>
                                            <div class="col-md-8 d-flex justify-content-center">
                                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="197" height="198" viewBox="0 0 197 198" fill="none">
                                                    <path d="M0.386536 99.0381C0.386536 153.247 44.3312 197.191 98.5396 197.191C152.748 197.191 196.693 153.247 196.693 99.0381C196.693 44.8296 152.748 0.88501 98.5396 0.88501C44.3312 0.88501 0.386536 44.8296 0.386536 99.0381ZM176.9 99.0381C176.9 142.315 141.817 177.398 98.5396 177.398C55.2625 177.398 20.1795 142.315 20.1795 99.0381C20.1795 55.761 55.2625 20.6779 98.5396 20.6779C141.817 20.6779 176.9 55.761 176.9 99.0381Z" fill="#F8F8F8"/>
                                                    <path d="M98.5396 0.88501C116.641 0.88501 134.39 5.89076 149.824 15.3488C165.259 24.8069 177.777 38.3489 185.995 54.4775C194.213 70.6062 197.81 88.6933 196.39 106.739C194.97 124.785 188.587 142.087 177.947 156.731C167.307 171.376 152.825 182.793 136.101 189.72C119.377 196.647 101.064 198.814 83.1851 195.983C65.3064 193.151 48.5589 185.43 34.7943 173.674C21.0297 161.918 10.7842 146.585 5.19049 129.369L25.886 122.645C30.2396 136.044 38.2137 147.978 48.9266 157.127C59.6396 166.277 72.6742 172.286 86.5892 174.49C100.504 176.694 114.758 175.007 127.774 169.616C140.79 164.224 152.062 155.338 160.343 143.941C168.624 132.543 173.591 119.077 174.697 105.032C175.802 90.9867 173.002 76.9096 166.606 64.3566C160.21 51.8037 150.467 41.264 138.455 33.9027C126.442 26.5415 112.628 22.6456 98.5396 22.6456L98.5396 0.88501Z" fill="#560BAD"/>
                                                    <path d="M98.5245 0.886779C83.0349 0.889177 67.7658 4.55747 53.9656 11.5917C40.1654 18.626 28.2259 28.8265 19.1233 41.3592C10.0207 53.892 4.01342 68.4011 1.59268 83.7003C-0.828059 98.9996 0.40645 114.655 5.19527 129.385L25.4697 122.794C21.721 111.263 20.7546 99.0083 22.6496 87.0321C24.5445 75.0558 29.247 63.6981 36.3725 53.8875C43.498 44.0768 52.8443 36.0919 63.6471 30.5855C74.4499 25.079 86.4026 22.2075 98.5278 22.2056L98.5245 0.886779Z" fill="#EF933D"/>
                                                </svg> -->
                                                <div id="donutchart" style="width: 100%; height: 220px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md d-flex">
                                    <div class="agents-box d-flex justify-content-between">
                                        <div class="content-box-of-agent">
                                            <h2 class="mb-0 "><span id="activeChatCount">00</span></h2>
                                            <p>Active</p>   
                                        </div>
                                        <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                        <div class="d-flex align-content-center flex-wrap">
                                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="#560bad" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="#560bad" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="#560bad" opacity="1" data-original="#000000" class=""></path></g></svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md d-flex">
                                    <div class="agents-box d-flex justify-content-between">
                                        <div class="content-box-of-agent">
                                            <h2 class="mb-0"><span id="pendingChatCount">00</span></h2>
                                            <p>Pending</p>   
                                        </div>
                                        <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                        <div class="d-flex align-content-center flex-wrap">
                                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md d-flex">
                                    <div class="agents-box d-flex justify-content-between">
                                        <div class="content-box-of-agent">
                                            <h2 class="mb-0 "><span id="closedChatCount">00</span></h2>
                                            <p>Close</p>   
                                        </div>
                                        <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                        <div class="d-flex align-content-center flex-wrap">
                                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="#f00" opacity="1" data-original="#000000" class=""></path></g></svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 d-flex">
                <div class="row g-3">
                    <div class="dashboard-box">
                        <div class="col-md-12">
                            <h4 class="mt-4 text-center mb-4">Agent Details</h4>
                            <div class="row g-3">
                                <div class="col-md-6 d-flex">
                                    <div class="row g-3 parents-agents-small">
                                        <div class="col-md-12">
                                            <div class="agents-box  d-flex justify-content-between">
                                                <div class="content-box-of-agent">
                                                    <h2 class="mb-0 "><span id="agentLoginTime">00:00:00 </span></h2>
                                                    <p>Login Time</p>   
                                                </div>
                                                <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                                <div class='d-flex align-content-center flex-wrap'>
                                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M27 7.1167C27.7667 7.1167 28.3834 7.73337 28.3834 8.50003C28.3834 9.2667 27.7667 9.88337 27 9.88337C26.2334 9.88337 25.6167 9.2667 25.6167 8.50003C25.6167 7.73337 26.2334 7.1167 27 7.1167ZM8.50003 25.6167C9.2667 25.6167 9.88337 26.2334 9.88337 27C9.88337 27.7667 9.2667 28.3834 8.50003 28.3834C7.73337 28.3834 7.1167 27.7667 7.1167 27C7.1167 26.2334 7.73337 25.6167 8.50003 25.6167Z" fill="#003796"/>
                                                <path d="M23.3834 53.4167C10.2667 51.6834 0.333374 40.2334 0.333374 27C0.333374 12.3 12.3 0.333374 27 0.333374C41.7 0.333374 53.6667 12.3 53.6667 27C53.6667 28.2834 53.5834 29.5667 53.4 30.8C53.3749 30.9762 53.3152 31.1457 53.2246 31.2989C53.1339 31.452 53.0139 31.5858 52.8715 31.6926C52.7292 31.7994 52.5671 31.8771 52.3947 31.9213C52.2223 31.9654 52.0429 31.9752 51.8667 31.95C51.6905 31.9249 51.521 31.8652 51.3679 31.7746C51.2147 31.6839 51.0809 31.5639 50.9741 31.4215C50.8674 31.2792 50.7897 31.1171 50.7455 30.9447C50.7013 30.7723 50.6915 30.5929 50.7167 30.4167C50.8834 29.3 50.9667 28.15 50.9667 27C50.9667 13.7834 40.2167 3.05004 27.0167 3.05004C13.8167 3.05004 3.05004 13.7834 3.05004 27C3.05004 38.8334 11.8834 49.0334 23.5834 50.7167C24.3167 50.8167 24.8334 51.5167 24.7334 52.25C24.6334 52.9334 24.05 53.4167 23.4 53.4167H23.3834Z" fill="#003796"/>
                                                <path d="M27.0001 28.35H19.7667C19.0167 28.35 18.4167 27.75 18.4167 27C18.4167 26.25 19.0167 25.65 19.7667 25.65H25.6501V16.1667C25.6501 15.4167 26.2501 14.8167 27.0001 14.8167C27.7501 14.8167 28.3501 15.4167 28.3501 16.1667V27.0167C28.3501 27.7667 27.7501 28.3667 27.0001 28.3667V28.35Z" fill="#EF933D"/>
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M39.7558 51.1081H30.9767C30.9151 51.1081 30.8559 51.0836 30.8123 51.04C30.7687 50.9964 30.7442 50.9373 30.7442 50.8756V49.1895C30.7442 48.2233 31.4337 47.3721 32.4965 46.6488C34.3942 45.3535 37.4651 44.5372 40.9186 44.5372C41.4884 44.5372 42.0477 44.5605 42.5942 44.6035C42.7097 44.6151 42.8264 44.6036 42.9374 44.5695C43.0484 44.5355 43.1515 44.4796 43.2406 44.4051C43.3297 44.3307 43.4031 44.2392 43.4564 44.1361C43.5097 44.0329 43.5418 43.9202 43.551 43.8044C43.5601 43.6887 43.546 43.5722 43.5096 43.462C43.4731 43.3518 43.415 43.2499 43.3387 43.1624C43.2624 43.0749 43.1693 43.0036 43.065 42.9525C42.9607 42.9015 42.8473 42.8717 42.7314 42.8651C42.1283 42.8168 41.5236 42.7927 40.9186 42.793C37.0558 42.793 33.636 43.7593 31.5128 45.207C29.893 46.3116 29 47.7151 29 49.1884V50.8756C29.0003 51.3996 29.2087 51.9021 29.5794 52.2726C29.9501 52.6431 30.4527 52.8512 30.9767 52.8512L39.7558 52.8523C39.9871 52.8523 40.2089 52.7604 40.3725 52.5969C40.536 52.4333 40.6279 52.2115 40.6279 51.9802C40.6279 51.7489 40.536 51.5271 40.3725 51.3636C40.2089 51.2 39.9871 51.1081 39.7558 51.1081ZM40.9186 29C37.3884 29 34.5233 31.8651 34.5233 35.3953C34.5233 38.9256 37.3884 41.7907 40.9186 41.7907C44.4488 41.7907 47.314 38.9256 47.314 35.3953C47.314 31.8651 44.4488 29 40.9186 29ZM40.9186 30.7442C43.486 30.7442 45.5698 32.8279 45.5698 35.3953C45.5698 37.9628 43.486 40.0465 40.9186 40.0465C38.3512 40.0465 36.2674 37.9628 36.2674 35.3953C36.2674 32.8279 38.3512 30.7442 40.9186 30.7442ZM48.6535 51.0442C49.4398 51.1634 50.2435 51.0791 50.9879 50.7994C51.7324 50.5198 52.3928 50.054 52.9061 49.4466C53.4195 48.8392 53.7686 48.1104 53.9203 47.3298C54.0719 46.5491 54.021 45.7426 53.7725 44.9872C53.5239 44.2318 53.0859 43.5526 52.5003 43.0146C51.9147 42.4765 51.201 42.0975 50.4273 41.9136C49.6536 41.7297 48.8457 41.7471 48.0806 41.9642C47.3155 42.1812 46.6188 42.5907 46.057 43.1535C45.5415 43.6685 45.1542 44.2975 44.9266 44.9897C44.699 45.6819 44.6373 46.4179 44.7465 47.1384L42.0465 49.8372C41.9654 49.9183 41.901 50.0145 41.8571 50.1205C41.8132 50.2264 41.7906 50.34 41.7907 50.4547V53.1279C41.7907 53.6093 42.1814 54 42.6628 54H45.336C45.4507 54.0001 45.5643 53.9775 45.6702 53.9336C45.7762 53.8897 45.8724 53.8253 45.9535 53.7442L48.6535 51.0442ZM48.593 49.2535C48.4454 49.2142 48.2901 49.2143 48.1425 49.2539C47.995 49.2935 47.8604 49.3711 47.7523 49.4791L44.9756 52.2558H43.5349V50.8151L46.3116 48.0384C46.4196 47.9303 46.4972 47.7957 46.5368 47.6482C46.5764 47.5006 46.5765 47.3453 46.5372 47.1977C46.373 46.5794 46.417 45.9242 46.6624 45.3334C46.9078 44.7426 47.341 44.2491 47.8949 43.9291C48.4489 43.6091 49.0928 43.4805 49.7272 43.5631C50.3616 43.6457 50.9511 43.9349 51.4046 44.386C51.8558 44.8396 52.145 45.4291 52.2276 46.0635C52.3102 46.6979 52.1816 47.3418 51.8616 47.8958C51.5416 48.4497 51.0481 48.8829 50.4573 49.1283C49.8665 49.3737 49.2113 49.4177 48.593 49.2535Z" fill="#EF933D"/>
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M48.4558 47.335C48.3342 47.2188 48.2371 47.0795 48.1701 46.9252C48.1031 46.771 48.0677 46.6049 48.0658 46.4367C48.064 46.2686 48.0957 46.1017 48.1593 45.946C48.2228 45.7903 48.3168 45.6489 48.4358 45.5301C48.5548 45.4112 48.6964 45.3174 48.8522 45.254C49.0079 45.1907 49.1748 45.1591 49.343 45.1612C49.5111 45.1633 49.6772 45.199 49.8313 45.2662C49.9855 45.3333 50.1247 45.4307 50.2407 45.5524C50.468 45.7909 50.593 46.1089 50.5889 46.4384C50.5848 46.7678 50.452 47.0826 50.2189 47.3154C49.9858 47.5483 49.6708 47.6807 49.3413 47.6843C49.0119 47.688 48.694 47.5626 48.4558 47.335Z" fill="#EF933D"/>
                                                </svg>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="agents-box  d-flex justify-content-between">
                                                <div class="content-box-of-agent">
                                                    <h2 class="mb-0 "><span id="agentidealTime">00:00:00</span></h2>
                                                    <p>Ideal Time</p>   
                                                </div>
                                                <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                                <div class='d-flex align-content-center flex-wrap'>
                                                    <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M27 7.1167C27.7667 7.1167 28.3834 7.73337 28.3834 8.50003C28.3834 9.2667 27.7667 9.88337 27 9.88337C26.2334 9.88337 25.6167 9.2667 25.6167 8.50003C25.6167 7.73337 26.2334 7.1167 27 7.1167ZM8.50003 25.6167C9.2667 25.6167 9.88337 26.2334 9.88337 27C9.88337 27.7667 9.2667 28.3834 8.50003 28.3834C7.73337 28.3834 7.1167 27.7667 7.1167 27C7.1167 26.2334 7.73337 25.6167 8.50003 25.6167Z" fill="#003796"/>
                                                    <path d="M23.3834 53.4167C10.2667 51.6834 0.333374 40.2334 0.333374 27C0.333374 12.3 12.3 0.333374 27 0.333374C41.7 0.333374 53.6667 12.3 53.6667 27C53.6667 28.2834 53.5834 29.5667 53.4 30.8C53.3749 30.9762 53.3152 31.1457 53.2246 31.2989C53.1339 31.452 53.0139 31.5858 52.8715 31.6926C52.7292 31.7994 52.5671 31.8771 52.3947 31.9213C52.2223 31.9654 52.0429 31.9752 51.8667 31.95C51.6905 31.9249 51.521 31.8652 51.3679 31.7746C51.2147 31.6839 51.0809 31.5639 50.9741 31.4215C50.8674 31.2792 50.7897 31.1171 50.7455 30.9447C50.7013 30.7723 50.6915 30.5929 50.7167 30.4167C50.8834 29.3 50.9667 28.15 50.9667 27C50.9667 13.7834 40.2167 3.05004 27.0167 3.05004C13.8167 3.05004 3.05004 13.7834 3.05004 27C3.05004 38.8334 11.8834 49.0334 23.5834 50.7167C24.3167 50.8167 24.8334 51.5167 24.7334 52.25C24.6334 52.9334 24.05 53.4167 23.4 53.4167H23.3834Z" fill="#003796"/>
                                                    <path d="M40.271 39.0425C41.9254 39.0425 43.358 38.4491 44.5286 37.2784C45.6991 36.1079 46.2925 34.6757 46.2925 33.0211C46.2925 31.367 45.6991 29.9346 44.5284 28.7637C43.3576 27.5934 41.9252 27 40.271 27C38.6164 27 37.1841 27.5934 36.0136 28.7639C34.8431 29.9344 34.2495 31.3669 34.2495 33.0211C34.2495 34.6757 34.8431 36.1081 36.0138 37.2786C37.1846 38.449 38.617 39.0425 40.271 39.0425ZM50.8069 46.2236C50.7731 45.7365 50.7049 45.2051 50.6043 44.644C50.5029 44.0786 50.3723 43.5442 50.2158 43.0557C50.0543 42.5509 49.8346 42.0523 49.563 41.5745C49.2811 41.0786 48.95 40.6468 48.5784 40.2914C48.1898 39.9197 47.7142 39.6208 47.1641 39.4028C46.6159 39.186 46.0084 39.0761 45.3586 39.0761C45.1034 39.0761 44.8566 39.1808 44.38 39.4912C44.0411 39.7118 43.7013 39.9309 43.3605 40.1484C43.033 40.3571 42.5894 40.5526 42.0414 40.7296C41.5067 40.9026 40.9639 40.9903 40.4281 40.9903C39.8924 40.9903 39.3497 40.9026 38.8145 40.7296C38.2672 40.5527 37.8235 40.3573 37.4964 40.1486C37.117 39.9061 36.7737 39.6849 36.476 39.4909C35.9999 39.1806 35.7529 39.0759 35.4977 39.0759C34.8477 39.0759 34.2404 39.1859 33.6924 39.403C33.1427 39.6207 32.6668 39.9195 32.2779 40.2916C31.9066 40.6472 31.5753 41.0787 31.2937 41.5745C31.0224 42.0523 30.8026 42.5507 30.6409 43.0559C30.4846 43.5444 30.354 44.0786 30.2525 44.644C30.152 45.2043 30.0837 45.7359 30.05 46.2242C30.0163 46.7156 29.9997 47.208 30 47.7005C30 49.0055 30.4148 50.0619 31.2329 50.8411C32.0409 51.61 33.1099 52 34.4099 52H46.4475C47.7476 52 48.8162 51.6102 49.6244 50.8411C50.4426 50.0625 50.8575 49.0059 50.8575 47.7003C50.8573 47.1966 50.8403 46.6997 50.8069 46.2236Z" fill="#EF933D"/>
                                                    <path d="M27.0001 28.35H19.7667C19.0167 28.35 18.4167 27.75 18.4167 27C18.4167 26.25 19.0167 25.65 19.7667 25.65H25.6501V16.1667C25.6501 15.4167 26.2501 14.8167 27.0001 14.8167C27.7501 14.8167 28.3501 15.4167 28.3501 16.1667V27.0167C28.3501 27.7667 27.7501 28.3667 27.0001 28.3667V28.35Z" fill="#EF933D"/>
                                                    </svg>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="agents-box  d-flex justify-content-between">
                                                <div class="content-box-of-agent">
                                                    <h2 class="mb-0 "><span id="agentBreakTime">00:00:00</span></h2>
                                                    <p>Break Time</p>   
                                                </div>
                                                <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                                <div class='d-flex align-content-center flex-wrap'>
                                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60" x="0" y="0" viewBox="0 0 36 36" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill-rule="evenodd" d="M18 6.07c.46 0 .83.37.83.83s-.37.83-.83.83-.83-.37-.83-.83.37-.83.83-.83zM6.9 17.17c.46 0 .83.37.83.83s-.37.83-.83.83-.83-.37-.83-.83.37-.83.83-.83z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M15.83 33.85C7.96 32.81 2 25.94 2 18 2 9.18 9.18 2 18 2s16 7.18 16 16c0 .77-.05 1.54-.16 2.28a.812.812 0 1 1-1.61-.23c.1-.67.15-1.36.15-2.05 0-7.93-6.45-14.37-14.37-14.37S3.63 10.07 3.63 18c0 7.1 5.3 13.22 12.32 14.23.44.06.75.48.69.92-.06.41-.41.7-.8.7z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M18 18.81h-4.34c-.45 0-.81-.36-.81-.81s.36-.81.81-.81h3.53V11.5c0-.45.36-.81.81-.81s.81.36.81.81v6.51c0 .45-.36.81-.81.81zM33.28 24.55a2.996 2.996 0 0 0-2.27-1.05h-.96a2.926 2.926 0 0 0-2.3-1.08h-7c-.86 0-1.68.37-2.24 1.02-.57.65-.83 1.51-.71 2.36l.5 3.73A5.17 5.17 0 0 0 23.41 34h1.71c1.93 0 3.65-1.09 4.53-2.71l2.73-1.52c.79-.44 1.35-1.24 1.49-2.14l.11-.68c.13-.86-.11-1.74-.68-2.4zm-4.19 1.03-.5 3.73a3.534 3.534 0 0 1-3.49 3.06h-1.71c-1.76 0-3.26-1.32-3.49-3.06l-.5-3.73c-.05-.39.07-.78.32-1.07.26-.29.63-.46 1.02-.46h7c.39 0 .76.17 1.02.46.26.3.38.69.32 1.07zm3.26 1.12-.11.67c-.06.41-.32.77-.68.97l-1.3.72.44-3.27c.03-.22.03-.45.01-.67H31c.4 0 .77.17 1.03.48.26.3.37.7.31 1.09z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                                

                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6 d-flex">
                                    <div class="row g-3 parents-agents-small">
                                    <div class="col-md-12">
                                            <div class="agents-box  d-flex justify-content-between">
                                                <div class="content-box-of-agent content-large">
                                                    <h2 class="mb-0 "><span id="oldPendingChats">0</span></h2>
                                                    <p>Old Pending Chat </p>   
                                                </div>
                                                <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                                <div class='d-flex align-content-center flex-wrap'>
                                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="#f00" opacity="1" data-original="#000000" class=""></path></g></svg>
                                                

                                                
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="agents-box  d-flex justify-content-between">
                                                <div class="content-box-of-agent justify-content-start">
                                                    <h2 class="mb-0 "><span id="agentReadyTime">00:00:00</span></h2>
                                                    <p>Ready Time</p>    
                                                </div>
                                                <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                                <div class='d-flex align-content-center flex-wrap'>
                                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm0 20a9 9 0 1 1 9-9 9.011 9.011 0 0 1-9 9z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M13 11.586V6a1 1 0 0 0-2 0v6a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="agents-box  d-flex justify-content-between">
                                                <div class="content-box-of-agent justify-content-center">
                                                    <h2 class="mb-0 "><span id="softBreakTime">00:00:00</span></h2>
                                                    <p>Soft Break</p>   
                                                </div>
                                                <!-- <img src="{{asset('assets/img/icon/email-icon.svg')}}" alt="icon"> -->
                                                <div class='d-flex align-content-center flex-wrap'>
                                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm0 20a9 9 0 1 1 9-9 9.011 9.011 0 0 1-9 9z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M13 11.586V6a1 1 0 0 0-2 0v6a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>

                                
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    @endif

    @if(session('data.userRole') == 'admin' || session('data.userRole') == 'supervisor' || session('data.userRole') == 'mis')

    <div class="row my-2 mb-4" >
        <div class="col-md-6">
            <div class="row">
                <div class="dashboard-box">
                    <h4 class="mt-4 text-center mb-4">Agent Details</h4>
                    <div class="col-md-12">
                        <div class="row g-1">
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentLoginTimeeee">0</span></h4>
                                        <svg width="30" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M27 7.1167C27.7667 7.1167 28.3834 7.73337 28.3834 8.50003C28.3834 9.2667 27.7667 9.88337 27 9.88337C26.2334 9.88337 25.6167 9.2667 25.6167 8.50003C25.6167 7.73337 26.2334 7.1167 27 7.1167ZM8.50003 25.6167C9.2667 25.6167 9.88337 26.2334 9.88337 27C9.88337 27.7667 9.2667 28.3834 8.50003 28.3834C7.73337 28.3834 7.1167 27.7667 7.1167 27C7.1167 26.2334 7.73337 25.6167 8.50003 25.6167Z" fill="#003796"/>
                                            <path d="M23.3834 53.4167C10.2667 51.6834 0.333374 40.2334 0.333374 27C0.333374 12.3 12.3 0.333374 27 0.333374C41.7 0.333374 53.6667 12.3 53.6667 27C53.6667 28.2834 53.5834 29.5667 53.4 30.8C53.3749 30.9762 53.3152 31.1457 53.2246 31.2989C53.1339 31.452 53.0139 31.5858 52.8715 31.6926C52.7292 31.7994 52.5671 31.8771 52.3947 31.9213C52.2223 31.9654 52.0429 31.9752 51.8667 31.95C51.6905 31.9249 51.521 31.8652 51.3679 31.7746C51.2147 31.6839 51.0809 31.5639 50.9741 31.4215C50.8674 31.2792 50.7897 31.1171 50.7455 30.9447C50.7013 30.7723 50.6915 30.5929 50.7167 30.4167C50.8834 29.3 50.9667 28.15 50.9667 27C50.9667 13.7834 40.2167 3.05004 27.0167 3.05004C13.8167 3.05004 3.05004 13.7834 3.05004 27C3.05004 38.8334 11.8834 49.0334 23.5834 50.7167C24.3167 50.8167 24.8334 51.5167 24.7334 52.25C24.6334 52.9334 24.05 53.4167 23.4 53.4167H23.3834Z" fill="#003796"/>
                                            <path d="M40.271 39.0425C41.9254 39.0425 43.358 38.4491 44.5286 37.2784C45.6991 36.1079 46.2925 34.6757 46.2925 33.0211C46.2925 31.367 45.6991 29.9346 44.5284 28.7637C43.3576 27.5934 41.9252 27 40.271 27C38.6164 27 37.1841 27.5934 36.0136 28.7639C34.8431 29.9344 34.2495 31.3669 34.2495 33.0211C34.2495 34.6757 34.8431 36.1081 36.0138 37.2786C37.1846 38.449 38.617 39.0425 40.271 39.0425ZM50.8069 46.2236C50.7731 45.7365 50.7049 45.2051 50.6043 44.644C50.5029 44.0786 50.3723 43.5442 50.2158 43.0557C50.0543 42.5509 49.8346 42.0523 49.563 41.5745C49.2811 41.0786 48.95 40.6468 48.5784 40.2914C48.1898 39.9197 47.7142 39.6208 47.1641 39.4028C46.6159 39.186 46.0084 39.0761 45.3586 39.0761C45.1034 39.0761 44.8566 39.1808 44.38 39.4912C44.0411 39.7118 43.7013 39.9309 43.3605 40.1484C43.033 40.3571 42.5894 40.5526 42.0414 40.7296C41.5067 40.9026 40.9639 40.9903 40.4281 40.9903C39.8924 40.9903 39.3497 40.9026 38.8145 40.7296C38.2672 40.5527 37.8235 40.3573 37.4964 40.1486C37.117 39.9061 36.7737 39.6849 36.476 39.4909C35.9999 39.1806 35.7529 39.0759 35.4977 39.0759C34.8477 39.0759 34.2404 39.1859 33.6924 39.403C33.1427 39.6207 32.6668 39.9195 32.2779 40.2916C31.9066 40.6472 31.5753 41.0787 31.2937 41.5745C31.0224 42.0523 30.8026 42.5507 30.6409 43.0559C30.4846 43.5444 30.354 44.0786 30.2525 44.644C30.152 45.2043 30.0837 45.7359 30.05 46.2242C30.0163 46.7156 29.9997 47.208 30 47.7005C30 49.0055 30.4148 50.0619 31.2329 50.8411C32.0409 51.61 33.1099 52 34.4099 52H46.4475C47.7476 52 48.8162 51.6102 49.6244 50.8411C50.4426 50.0625 50.8575 49.0059 50.8575 47.7003C50.8573 47.1966 50.8403 46.6997 50.8069 46.2236Z" fill="#EF933D"/>
                                            <path d="M27.0001 28.35H19.7667C19.0167 28.35 18.4167 27.75 18.4167 27C18.4167 26.25 19.0167 25.65 19.7667 25.65H25.6501V16.1667C25.6501 15.4167 26.2501 14.8167 27.0001 14.8167C27.7501 14.8167 28.3501 15.4167 28.3501 16.1667V27.0167C28.3501 27.7667 27.7501 28.3667 27.0001 28.3667V28.35Z" fill="#EF933D"/>
                                            </svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Total</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentReadyTimeeee">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm0 20a9 9 0 1 1 9-9 9.011 9.011 0 0 1-9 9z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M13 11.586V6a1 1 0 0 0-2 0v6a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Ready</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentactiveTimeeee">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm0 20a9 9 0 1 1 9-9 9.011 9.011 0 0 1-9 9z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M13 11.586V6a1 1 0 0 0-2 0v6a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Not ready</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentonbreak">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 36 36" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill-rule="evenodd" d="M18 6.07c.46 0 .83.37.83.83s-.37.83-.83.83-.83-.37-.83-.83.37-.83.83-.83zM6.9 17.17c.46 0 .83.37.83.83s-.37.83-.83.83-.83-.37-.83-.83.37-.83.83-.83z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M15.83 33.85C7.96 32.81 2 25.94 2 18 2 9.18 9.18 2 18 2s16 7.18 16 16c0 .77-.05 1.54-.16 2.28a.812.812 0 1 1-1.61-.23c.1-.67.15-1.36.15-2.05 0-7.93-6.45-14.37-14.37-14.37S3.63 10.07 3.63 18c0 7.1 5.3 13.22 12.32 14.23.44.06.75.48.69.92-.06.41-.41.7-.8.7z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M18 18.81h-4.34c-.45 0-.81-.36-.81-.81s.36-.81.81-.81h3.53V11.5c0-.45.36-.81.81-.81s.81.36.81.81v6.51c0 .45-.36.81-.81.81zM33.28 24.55a2.996 2.996 0 0 0-2.27-1.05h-.96a2.926 2.926 0 0 0-2.3-1.08h-7c-.86 0-1.68.37-2.24 1.02-.57.65-.83 1.51-.71 2.36l.5 3.73A5.17 5.17 0 0 0 23.41 34h1.71c1.93 0 3.65-1.09 4.53-2.71l2.73-1.52c.79-.44 1.35-1.24 1.49-2.14l.11-.68c.13-.86-.11-1.74-.68-2.4zm-4.19 1.03-.5 3.73a3.534 3.534 0 0 1-3.49 3.06h-1.71c-1.76 0-3.26-1.32-3.49-3.06l-.5-3.73c-.05-.39.07-.78.32-1.07.26-.29.63-.46 1.02-.46h7c.39 0 .76.17 1.02.46.26.3.38.69.32 1.07zm3.26 1.12-.11.67c-.06.41-.32.77-.68.97l-1.3.72.44-3.27c.03-.22.03-.45.01-.67H31c.4 0 .77.17 1.03.48.26.3.37.7.31 1.09z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">On Break</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row gap-1">
                <div class="dashboard-box">
                    <h4 class="mt-4 text-center mb-4">Chat Status</h4>
                    <div class="col-md-12">
                        <div class="row g-1">
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="openchat">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="green" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="green" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="green" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Total</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4><span id="assignchat">0</span></h4>
                                        <img src="{{asset('assets/img/nonassignchat.svg')}}" width="30" alt="non-assign">
                                    </div>
                                    <h6 class="mb-0 fw-light">Non-assign</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4><span id="nonassignchat">0</span></h4>
                                        <img src="{{asset('assets/img/nonassignchat.svg')}}" width="30" alt="non-assign">
                                    </div>
                                    <h6 class="mb-0 fw-light">Assign</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                    <h4> <span id="closedEmailCount">0</span></h4>
                                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="#f00" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Closed</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <table class="table table-striped" id="admin_table">
        <thead>
            <tr>  
                <th>Sr.No</th>
                <th>Campaign</th>
                <th>User Name</th>
                <th>Chat count</th>
                <th>Status</th>
            </tr>
        </thead>
    </table>

    @endif

    @if(session('data.userRole') == 'super_admin' || session('data.userRole') == 'manager')
    <div class="row my-2 mb-4">
        <div class="col-md-6">
            <div class="row">
                <div class="dashboard-box">
                    <h4 class="mt-4 text-center mb-4">Agent Details</h4>
                    <div class="col-md-12">
                        <div class="row g-1">
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentLoginTimeeee">0</span></h4>
                                        <svg width="30" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M27 7.1167C27.7667 7.1167 28.3834 7.73337 28.3834 8.50003C28.3834 9.2667 27.7667 9.88337 27 9.88337C26.2334 9.88337 25.6167 9.2667 25.6167 8.50003C25.6167 7.73337 26.2334 7.1167 27 7.1167ZM8.50003 25.6167C9.2667 25.6167 9.88337 26.2334 9.88337 27C9.88337 27.7667 9.2667 28.3834 8.50003 28.3834C7.73337 28.3834 7.1167 27.7667 7.1167 27C7.1167 26.2334 7.73337 25.6167 8.50003 25.6167Z" fill="#003796"/>
                                            <path d="M23.3834 53.4167C10.2667 51.6834 0.333374 40.2334 0.333374 27C0.333374 12.3 12.3 0.333374 27 0.333374C41.7 0.333374 53.6667 12.3 53.6667 27C53.6667 28.2834 53.5834 29.5667 53.4 30.8C53.3749 30.9762 53.3152 31.1457 53.2246 31.2989C53.1339 31.452 53.0139 31.5858 52.8715 31.6926C52.7292 31.7994 52.5671 31.8771 52.3947 31.9213C52.2223 31.9654 52.0429 31.9752 51.8667 31.95C51.6905 31.9249 51.521 31.8652 51.3679 31.7746C51.2147 31.6839 51.0809 31.5639 50.9741 31.4215C50.8674 31.2792 50.7897 31.1171 50.7455 30.9447C50.7013 30.7723 50.6915 30.5929 50.7167 30.4167C50.8834 29.3 50.9667 28.15 50.9667 27C50.9667 13.7834 40.2167 3.05004 27.0167 3.05004C13.8167 3.05004 3.05004 13.7834 3.05004 27C3.05004 38.8334 11.8834 49.0334 23.5834 50.7167C24.3167 50.8167 24.8334 51.5167 24.7334 52.25C24.6334 52.9334 24.05 53.4167 23.4 53.4167H23.3834Z" fill="#003796"/>
                                            <path d="M40.271 39.0425C41.9254 39.0425 43.358 38.4491 44.5286 37.2784C45.6991 36.1079 46.2925 34.6757 46.2925 33.0211C46.2925 31.367 45.6991 29.9346 44.5284 28.7637C43.3576 27.5934 41.9252 27 40.271 27C38.6164 27 37.1841 27.5934 36.0136 28.7639C34.8431 29.9344 34.2495 31.3669 34.2495 33.0211C34.2495 34.6757 34.8431 36.1081 36.0138 37.2786C37.1846 38.449 38.617 39.0425 40.271 39.0425ZM50.8069 46.2236C50.7731 45.7365 50.7049 45.2051 50.6043 44.644C50.5029 44.0786 50.3723 43.5442 50.2158 43.0557C50.0543 42.5509 49.8346 42.0523 49.563 41.5745C49.2811 41.0786 48.95 40.6468 48.5784 40.2914C48.1898 39.9197 47.7142 39.6208 47.1641 39.4028C46.6159 39.186 46.0084 39.0761 45.3586 39.0761C45.1034 39.0761 44.8566 39.1808 44.38 39.4912C44.0411 39.7118 43.7013 39.9309 43.3605 40.1484C43.033 40.3571 42.5894 40.5526 42.0414 40.7296C41.5067 40.9026 40.9639 40.9903 40.4281 40.9903C39.8924 40.9903 39.3497 40.9026 38.8145 40.7296C38.2672 40.5527 37.8235 40.3573 37.4964 40.1486C37.117 39.9061 36.7737 39.6849 36.476 39.4909C35.9999 39.1806 35.7529 39.0759 35.4977 39.0759C34.8477 39.0759 34.2404 39.1859 33.6924 39.403C33.1427 39.6207 32.6668 39.9195 32.2779 40.2916C31.9066 40.6472 31.5753 41.0787 31.2937 41.5745C31.0224 42.0523 30.8026 42.5507 30.6409 43.0559C30.4846 43.5444 30.354 44.0786 30.2525 44.644C30.152 45.2043 30.0837 45.7359 30.05 46.2242C30.0163 46.7156 29.9997 47.208 30 47.7005C30 49.0055 30.4148 50.0619 31.2329 50.8411C32.0409 51.61 33.1099 52 34.4099 52H46.4475C47.7476 52 48.8162 51.6102 49.6244 50.8411C50.4426 50.0625 50.8575 49.0059 50.8575 47.7003C50.8573 47.1966 50.8403 46.6997 50.8069 46.2236Z" fill="#EF933D"/>
                                            <path d="M27.0001 28.35H19.7667C19.0167 28.35 18.4167 27.75 18.4167 27C18.4167 26.25 19.0167 25.65 19.7667 25.65H25.6501V16.1667C25.6501 15.4167 26.2501 14.8167 27.0001 14.8167C27.7501 14.8167 28.3501 15.4167 28.3501 16.1667V27.0167C28.3501 27.7667 27.7501 28.3667 27.0001 28.3667V28.35Z" fill="#EF933D"/>
                                            </svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Total</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentReadyTimeeee">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm0 20a9 9 0 1 1 9-9 9.011 9.011 0 0 1-9 9z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M13 11.586V6a1 1 0 0 0-2 0v6a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Ready</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentactiveTimeeee">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M12 1a11 11 0 1 0 11 11A11.013 11.013 0 0 0 12 1zm0 20a9 9 0 1 1 9-9 9.011 9.011 0 0 1-9 9z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M13 11.586V6a1 1 0 0 0-2 0v6a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Not ready</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="agentonbreak">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 36 36" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill-rule="evenodd" d="M18 6.07c.46 0 .83.37.83.83s-.37.83-.83.83-.83-.37-.83-.83.37-.83.83-.83zM6.9 17.17c.46 0 .83.37.83.83s-.37.83-.83.83-.83-.37-.83-.83.37-.83.83-.83z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M15.83 33.85C7.96 32.81 2 25.94 2 18 2 9.18 9.18 2 18 2s16 7.18 16 16c0 .77-.05 1.54-.16 2.28a.812.812 0 1 1-1.61-.23c.1-.67.15-1.36.15-2.05 0-7.93-6.45-14.37-14.37-14.37S3.63 10.07 3.63 18c0 7.1 5.3 13.22 12.32 14.23.44.06.75.48.69.92-.06.41-.41.7-.8.7z" fill="#003796" opacity="1" data-original="#000000" class=""></path><path d="M18 18.81h-4.34c-.45 0-.81-.36-.81-.81s.36-.81.81-.81h3.53V11.5c0-.45.36-.81.81-.81s.81.36.81.81v6.51c0 .45-.36.81-.81.81zM33.28 24.55a2.996 2.996 0 0 0-2.27-1.05h-.96a2.926 2.926 0 0 0-2.3-1.08h-7c-.86 0-1.68.37-2.24 1.02-.57.65-.83 1.51-.71 2.36l.5 3.73A5.17 5.17 0 0 0 23.41 34h1.71c1.93 0 3.65-1.09 4.53-2.71l2.73-1.52c.79-.44 1.35-1.24 1.49-2.14l.11-.68c.13-.86-.11-1.74-.68-2.4zm-4.19 1.03-.5 3.73a3.534 3.534 0 0 1-3.49 3.06h-1.71c-1.76 0-3.26-1.32-3.49-3.06l-.5-3.73c-.05-.39.07-.78.32-1.07.26-.29.63-.46 1.02-.46h7c.39 0 .76.17 1.02.46.26.3.38.69.32 1.07zm3.26 1.12-.11.67c-.06.41-.32.77-.68.97l-1.3.72.44-3.27c.03-.22.03-.45.01-.67H31c.4 0 .77.17 1.03.48.26.3.37.7.31 1.09z" fill="#ef933d" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">On Break</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row gap-1">
                <div class="dashboard-box">
                    <h4 class="mt-4 text-center mb-4">Chat Status</h4>
                    <div class="col-md-12">
                        <div class="row g-1">
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4> <span id="openchat">0</span></h4>
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="green" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="green" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="green" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Total</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4><span id="assignchat">0</span></h4>
                                        <img src="{{asset('assets/img/nonassignchat.svg')}}" width="30" alt="non-assign">
                                    </div>
                                    <h6 class="mb-0 fw-light">Assign</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                        <h4><span id="nonassignchat">0</span></h4>
                                        <img src="{{asset('assets/img/nonassignchat.svg')}}" width="30" alt="non-assign">
                                    </div>
                                    <h6 class="mb-0 fw-light">Non-assign</h6>
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="services-box gap-3">
                                    <div class="d-flex justify-content-between">
                                    <h4> <span id="closedEmailCount">0</span></h4>
                                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M304 96H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h192c8.832 0 16-7.168 16-16s-7.168-16-16-16zM240 160H112c-8.832 0-16 7.168-16 16s7.168 16 16 16h128c8.832 0 16-7.168 16-16s-7.168-16-16-16z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M352 0H64C28.704 0 0 28.704 0 64v320c0 6.208 3.584 11.872 9.216 14.496A16.232 16.232 0 0 0 16 400c3.68 0 7.328-1.28 10.24-3.712L117.792 320H352c35.296 0 64-28.704 64-64V64c0-35.296-28.704-64-64-64zm32 256c0 17.632-14.336 32-32 32H112c-3.744 0-7.36 1.312-10.24 3.712L32 349.856V64c0-17.632 14.336-32 32-32h288c17.664 0 32 14.368 32 32v192z" fill="#f00" opacity="1" data-original="#000000" class=""></path><path d="M448 128c-8.832 0-16 7.168-16 16s7.168 16 16 16c17.664 0 32 14.368 32 32v270.688l-54.016-43.2A16.12 16.12 0 0 0 416 416H192c-17.664 0-32-14.368-32-32v-16c0-8.832-7.168-16-16-16s-16 7.168-16 16v16c0 35.296 28.704 64 64 64h218.368l75.616 60.512A16.158 16.158 0 0 0 496 512c2.336 0 4.704-.512 6.944-1.568A16.05 16.05 0 0 0 512 496V192c0-35.296-28.704-64-64-64z" fill="#f00" opacity="1" data-original="#000000" class=""></path></g></svg>
                                    </div>
                                    <h6 class="mb-0 fw-light">Closed</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


@if(session('data.userRole') == 'super_admin')
    <table class="table table-striped" id="superadmin_table">
        <thead>
            <tr>  
                <th>Sr.No</th>
                <th>Name</th>
                <th>Username</th>
                <th>Chat count</th>
                <th>Status</th>
            </tr>
        </thead>
    </table>
@elseif(session('data.userRole') == 'manager')

    <table class="table table-striped" id="manager_table">
        <thead>
            <tr>  
                <th>Sr.No</th>
                <th>Name</th>
                <th>Username</th>
                <th>Chat count</th>
                <th>Status</th>
            </tr>
        </thead>
    </table>
@endif

@endif
    
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script src="assets/js/google-chart.min.js"></script>

<script>
    
      function drawChart() {
        var activeChatCount = 0;
        var pendingChatCount = 0;
        var closedChatCount = 0;

         activeChatCount = parseInt($('#activeChatCount').html());
         pendingChatCount = parseInt($('#pendingChatCount').html());
         closedChatCount = parseInt($('#closedChatCount').html());
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Active',     activeChatCount],
          ['Pending',     pendingChatCount],
          ['Close',  closedChatCount]
        ]);

        

        var options = {
        //   title: 'My Daily Activities',
          pieHole: 0.7,
          'legend':'bottom',
          pieSliceText: "none",
          pieSliceBorderColor: "none",
          slices: {0: {color: '#560BAD'}, 1:{color: '#EF933D'}, 2:{color: '#F00'}}
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
</script>
<script>    

@if(session('data.userRole') == 'user')
        $(document).ready(function() {
            $('#main').addClass('usermain');
            $('#header').addClass('userheader');
        });
@else
        $(document).ready(function() {
            $('#main').removeClass('usermain');
            $('#header').removeClass('userheader');
        });
@endif

    
        

        $(document).ready(function () {
        // AJAX call on select change
        $('#campaignSelect').on('change', function () {
            
            var selectedCampaign = $(this).val();
            var csrfToken = $('meta[name="csrf-token"]').attr('content');
            // Perform your AJAX request here
            $.ajax({
                url: "{{ url('/setCampaignSession') }}",
                method: 'GET', // Change the method if needed
                data: { selectedCampaign: selectedCampaign,  csrfToken: csrfToken },
                success: function (response) {


                    // Handle the AJAX success response here
                    console.log('AJAX success:', response);

                    $('#allChatCount').text(response.allChats);
                    $('#activeChatCount').text(response.activeChats);
                    $('#oldPendingChats').text(response.oldPendingChats);
                    $('#pendingChatCount').text(response.pendingChats);
                    $('#closedChatCount').text(response.closeChats);
                    $('.camp_name').text(response.campaignName);
                    $('.campaign-container').hide();
                    google.charts.load("current", {packages:["corechart"]});
                    google.charts.setOnLoadCallback(drawChart);
                },
                error: function (xhr, status, error) {
                    // Handle errors here
                    console.error('AJAX error:', error);
                }
            });
        });
    });

    $(document).ready(function(){

var csrfToken = $('meta[name="csrf-token"]').attr('content');

$('#superadmin_table').DataTable({
    processing: false,
    serverSide: true,
    ajax: {
        url: "{{ route('list.superadmindashboard') }}",
        type: "POST",
        headers: {
            "X-CSRF-TOKEN": csrfToken // Include the CSRF token in the headers
        }
    },
    columns: [
        { 
            data: 'id',
            render: function (data, type, row, meta) {
                // Calculate the serial number using the row index
                var srNo = meta.row + 1;

                return srNo;
            },
            orderable: false,
            searchable: false
        },
        { data: 'name', name: 'name' },
        { data: 'username', name: 'username' },
        {data:'chat_count',name:'chat_count'},
        { 
            data: 'login_status', 
            name: 'login_status',
            render: function (data, type, row) {
                if (data == 0) {
                    return '<b class="text-danger">Not login</b>';
                }else if(data == 1){
                    return '<b class="text-success">Idle</b>';
                }
                else if(data == 2){
                    return '<b class="text-danger">Ready</b>';
                }else if(data == 3){
                    return '<b class="text-danger">Break</b>';
                }else if(data == 4){
                    return '<b class="text-danger">Soft Break</b>';
                }else if(data == 5){
                    return '<b class="text-danger">logout</b>';
                }
            }
        }
    ]
});


$('#admin_table').DataTable({
    processing: false,
    serverSide: true,
    ajax: {
        url: "{{ route('list.admindashboard') }}",
        type: "POST",
        headers: {
            "X-CSRF-TOKEN": csrfToken // Include the CSRF token in the headers
        }
    },
    columns: [
        { 
            data: 'id',
            render: function (data, type, row, meta) {
                // Calculate the serial number using the row index
                var srNo = meta.row + 1;

                return srNo;
            },
            orderable: false,
            searchable: false
        },
        //{ data: 'clients', name: 'clients' },
        { data: 'campaignname', name: 'campaignname' },
        { data: 'name', name: 'name' },
        //{ data: 'username', name: 'username' },
        {data:'chat_count',name:'chat_count'},
        { 
            data: 'login_status', 
            name: 'login_status',
            render: function (data, type, row) {
                if (data == 0) {
                    return '<b class="text-danger">Not login</b>';
                }else if(data == 1){
                    return '<b class="text-success">Idle</b>';
                }
                else if(data == 2){
                    return '<b class="text-danger">Ready</b>';
                }else if(data == 3){
                    return '<b class="text-danger">Break</b>';
                }else if(data == 4){
                    return '<b class="text-danger">Soft Break</b>';
                }else if(data == 5){
                    return '<b class="text-danger">logout</b>';
                }
            }
        }
    ]
});


function updatecounts(){
                    $.ajax({
                        url: "{{ route('list.getstats') }}",
                        method: 'GET',
                        headers: {
                            "X-CSRF-TOKEN": csrfToken // Include the CSRF token in the headers
                        },
                        dataType: 'json',
                        success: function (response) {
                            // Update the HTML with the received data
                            $('#agentLoginTimeeee').text(response.totaluser || 0);
                            $('#agentReadyTimeeee').text(response.Readyuser || 0);
                            $('#agentactiveTimeeee').text(response.activeuser || 0);
                            $('#agentonbreak').text(response.onbreak || 0);
                            $('#openchat').text(response.totalchat || 0);
                            $('#assignchat').text(response.assign || 0);
                            $('#nonassignchat').text(response.nonassign || 0);
                            $('#closedEmailCount').text(response.closechat || 0);
                        },
                        error: function (error) {
                            console.log('Error:', error);
                        },
                        complete: function() {
                            // Schedule the next update after 10 seconds
                            setTimeout(updatecounts, 10000);
                        }
                    });
                }

                updatecounts();


        setInterval(function() {
    $('#superadmin_table').DataTable().ajax.reload(null, false);
    $('#admin_table').DataTable().ajax.reload(null, false);
    $('#manager_table').DataTable().ajax.reload(null, false);
}, 10000);

 $('#manager_table').DataTable({
    processing: false,
    serverSide: true,
    ajax: {
        url: "{{ route('list.managerdashboard') }}",
        type: "POST",
        headers: {
            "X-CSRF-TOKEN": csrfToken // Include the CSRF token in the headers
        }
    },
    columns: [
        { 
            data: 'id',
            render: function (data, type, row, meta) {
                // Calculate the serial number using the row index
                var srNo = meta.row + 1;

                return srNo;
            },
            orderable: false,
            searchable: false
        },
        { data: 'name', name: 'name' },
        { data: 'username', name: 'username' },
        {data:'chat_count',name:'chat_count'},
        { 
            data: 'login_status', 
            name: 'login_status',
            render: function (data, type, row) {
                if (data == 0) {
                    return '<b class="text-danger">Not login</b>';
                }else if(data == 1){
                    return '<b class="text-success">Idle</b>';
                }
                else if(data == 2){
                    return '<b class="text-danger">Ready</b>';
                }else if(data == 3){
                    return '<b class="text-danger">Break</b>';
                }else if(data == 4){
                    return '<b class="text-danger">Soft Break</b>';
                }else if(data == 5){
                    return '<b class="text-danger">logout</b>';
                }
            }
        }
    ]
});


});   



    </script>
<!-- /#page-wrapper -->
    <!-- Your home page content goes here -->
    @endsection
